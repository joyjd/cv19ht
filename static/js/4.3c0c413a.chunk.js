(this.webpackJsonpcv19ht=this.webpackJsonpcv19ht||[]).push([[4],{148:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},180:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},246:function(e,t,a){},255:function(e,t,a){},266:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){},331:function(e,t,a){"use strict";a.r(t);var n=a(38),o=a(39),l=a(41),r=a(40),s=a(0),i=a.n(s),c=(a(177),a(330)),d=a(306),u=a(336),p=a(329),m=a(311),h=a(127),g=a.n(h),f=a(72),v=a(304),E=a(305),y=function(e){return e.open?i.a.createElement(f.a,{open:!0,style:{backgroundColor:"#183259",zIndex:"1",opacity:"0.95"}},i.a.createElement("div",{className:"loadTrackerWelcome"},i.a.createElement("div",{className:"loaderContainer"},i.a.createElement(v.a,null)),i.a.createElement("div",{className:"loaderTextContainer"},"Please wait while we try to trace your current location.."),i.a.createElement(E.a,null))):null},b=a(37),C=a(310),T=a(309),S=a(47),_=a(100),D=a(97),N=(a(178),function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).handleSubmit=function(e){""!==o.state.name&&""!==o.state.feedback?o.setState({errorMessage:"",onTransition:!0},(function(){return o.sendFeedback("template_lddOxOX0",{message_html:o.state.feedback,from_name:o.state.name,reply_to:o.state.email})})):""===o.state.name?o.setState({errorMessage:"Opps ! You missed out your name."}):""===o.state.feedback&&o.setState({errorMessage:"Please dont send me blank messages !"})},o.closeModal=function(){o.setState({snkBar:!1,errorMessage:""},(function(){return o.props.onClose()}))},o.closeSnackBar=function(){o.setState({snkBar:!1})},o.state={feedback:"",name:"",email:"joydas1611@gmail.com",errorMessage:"",snkBar:!1,onTransition:!1},o.handleChange=o.handleChange.bind(Object(S.a)(o)),o.handleSubmit=o.handleSubmit.bind(Object(S.a)(o)),o}return Object(o.a)(a,[{key:"handleChange",value:function(e,t){"feedbackDesc"===t?this.setState({feedback:e.target.value}):this.setState({name:e.target.value})}},{key:"sendFeedback",value:function(e,t){var a=this;window.emailjs.send("gmail",e,t).then((function(e){a.setState({errorMessage:"",feedback:"",name:"",snkBar:!0,onTransition:!1})})).catch((function(e){return a.setState({onTransition:!1,errorMessage:"Message sending failed.Please try again in sometime."})}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(D.a,{fullScreen:!0,open:this.props.open,onClose:this.props.onclose,"aria-labelledby":"Contact Me","aria-describedby":"About Me"},i.a.createElement("div",{className:"bod_Skeleton",style:{backgroundColor:"##ebecf0"}},i.a.createElement(_.a,{style:{backgroundColor:"##ebecf0"}},i.a.createElement(d.a,{maxWidth:"xs",style:{padding:"0"}},i.a.createElement("div",{onClick:function(){return e.closeModal()}},i.a.createElement(g.a,{fontSize:"large"})),i.a.createElement("div",{className:"bod_Container"},i.a.createElement("div",{className:"bod_ImageHolder"},i.a.createElement("div",{className:"div_Welcome"},i.a.createElement("h2",null,"Insights")),i.a.createElement("div",{className:"div_avatar"},i.a.createElement("div",{className:"div_Avatar_ImgContainer"},i.a.createElement("div",{className:"avt_inner"})))),i.a.createElement("div",{className:"bod_FormHolder"},i.a.createElement("div",{className:"desContainer"},"Hi! I am ",i.a.createElement("strong",null,"Joy")," and I develop web applications and websites as part of my livelihood. COVID19 HospitalTracker is a pet-project of mine and is intended as a giveaway to the community during tough times.",i.a.createElement("br",null),"If you find it useful, drop a message to show your love and appreciation ! ",i.a.createElement("br",null),i.a.createElement("br",null),"Cheers !"),i.a.createElement("div",{className:"formContainer"},i.a.createElement("label",null,i.a.createElement("input",{id:"userName",name:"userName",onChange:function(t){return e.handleChange(t,"userName")},type:"text",value:this.state.name,placeholder:"Your Name",required:!0})),i.a.createElement("label",null,i.a.createElement("textarea",{id:"feedbackDesc",name:"feedbackDesc",onChange:function(t){return e.handleChange(t,"feedbackDesc")},required:!0,value:this.state.feedback,placeholder:"Your Message To Me...",rows:"4",cols:"35"}))),""!==this.state.errorMessage?i.a.createElement("div",{className:"errorHolder"},this.state.errorMessage):null),i.a.createElement("div",{className:"bod_ActionHolder"},i.a.createElement("div",{className:this.state.onTransition?"btnContactMe disableDiv":"btnContactMe",onClick:this.handleSubmit},"Send Message"),i.a.createElement("div",{className:"btnContactMe",onClick:function(){return e.closeModal()}},"No, maybe later"))))))),i.a.createElement(u.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snkBar,onClose:function(){return e.closeSnackBar()},autoHideDuration:2e3,message:"Message delivered succesfully!"}))}}]),a}(i.a.Component)),k=a(181),H=a.n(k),O=(a(180),function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).openContactMe=function(){e.setState({contactMe:!0})},e.closeContactMe=function(){e.setState({contactMe:!1})},e.state={contactMe:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(T.a,{position:"static",className:"Header"},i.a.createElement(d.a,{maxWidth:"md",style:{display:"flex",justifyContent:"space-between"}},i.a.createElement("div",{id:"back-to-top-anchor"},i.a.createElement(C.a,{variant:"h6",gutterBottom:!0},i.a.createElement("span",{className:"logoHolderText2 "},"COVID19"),i.a.createElement("span",{className:"logoHolderText"},"HospitalTracker"))),i.a.createElement("div",{onClick:function(){return e.openContactMe()}},i.a.createElement(m.a,{"aria-label":"delete",style:{padding:"5px 0",color:"#00fff9"}},i.a.createElement(H.a,null))))),i.a.createElement(N,{open:this.state.contactMe,onClose:function(){return e.closeContactMe()}}))}}]),a}(i.a.Component)),L=(a(182),a(312)),F=a(143),x=a.n(F),w=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).openContactMe=function(){o.setState({contactMe:!0})},o.closeContactMe=function(){o.setState({contactMe:!1})},o.state={contactMe:!1},o}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(L.a,{showLabels:!0,className:"Footer"},i.a.createElement("div",{className:"cpDiv"},i.a.createElement("div",null,"\xa9 Copyright 2020, COVID19HospitalTracker."),i.a.createElement("div",null,"All rights reserved.")),i.a.createElement("div",{className:"authorAvatar",onClick:function(){return e.openContactMe()}},i.a.createElement(m.a,{"aria-label":"delete",style:{padding:"5px 0",color:"#00fff9"}},i.a.createElement(x.a,null)))),i.a.createElement(N,{open:this.state.contactMe,onClose:function(){return e.closeContactMe()}}))}}]),a}(i.a.Component),j=a(162),M=(a(183),a(70)),A=a(102),B=a(136),I=a(185),P=a.n(I),Z=a(186),z=a.n(Z),R=a(313),W=function(e){return i.a.createElement(R.a,{checked:e.checkedState,onChange:function(t){return e.handleChangeSwitch(t)},color:"primary",inputProps:{"aria-label":"primary checkbox"}})},U=a(187),G=a.n(U),K=(a(184),Object(b.b)((function(e){return{formattedAddress:e.formattedAddress.formattedAddress}}),(function(e){return{setCommuteFlag:function(t){return e(function(e){return{type:"SET_COMMUTE_FLAG",payload:e}}(t))}}}))((function(e){var t=e.accessPermission,a=e.formattedAddress,n=e.setCommuteFlag,o=i.a.useState({commuteFlag:!1,infoFlag:!1}),l=Object(B.a)(o,2),r=l[0],s=l[1],c=function(){s({infoFlag:!1})};return i.a.createElement("div",null,i.a.createElement("div",{className:"locationTitleContainer"},i.a.createElement("div",{className:r.commuteFlag?"locationIconholder locationIconholderGlow":"locationIconholder"},i.a.createElement(P.a,{fontSize:"large",color:"primary"})),i.a.createElement("div",{className:"locationDesc"},i.a.createElement("div",null,i.a.createElement(z.a,null)),i.a.createElement("div",null," Your current location :"))),i.a.createElement("div",null,i.a.createElement("div",{className:"AddressContainer"},i.a.createElement("div",{className:"addressHolder"},i.a.createElement("address",null,a),t?i.a.createElement("div",{className:"commuterHolder"},i.a.createElement(W,{handleChangeSwitch:function(e){return s({commuteFlag:(t=e).target.checked}),t.target.checked?"labelSwitchActive":"labelSwitchDefault",void n(t.target.checked);var t}}),i.a.createElement("div",{className:r.commuteFlag?"labelSwitchActive":"labelSwitchDefault"},i.a.createElement("div",{className:"textSpan"}," I am commuting/travelling right now."),i.a.createElement("div",{className:"enbContainer"},i.a.createElement("span",{className:"EnableDisable"},r.commuteFlag?"Enabled":"Disabled"),i.a.createElement("span",{onClick:function(){s({infoFlag:!0})}},i.a.createElement(G.a,{style:{color:"#a3cccb"},fontSize:"medium"}))))):null))),i.a.createElement(D.a,{onClose:function(){return c()},"aria-labelledby":"Commute Description",open:r.infoFlag},i.a.createElement("div",{className:"InfoCloseDiv"},i.a.createElement(g.a,{onClick:function(){return c()}})),i.a.createElement("div",{className:"infoBody"},"Enabling ",i.a.createElement("strong",null,'"I am commuting/travelling right now" ')," indicates that you are not at a particular position/home but travelling to someplece right now. Once enabled, we will track your current changing location details and update available hospitals nearby to you automatically in a periodic manner as you travel.",i.a.createElement("br",null),i.a.createElement("br",null),"Note: If you need to search a particular hospital details,check available hospitals of different zones/areas or custom-change your present location, we suggest you to ",i.a.createElement("strong",null,"disable this option")," so that the location updates doesn't disrupt your activity.")))}))),V=(a(188),a(147)),Y={apiKey:"AIzaSyArulgFkLD1tIDxd0ia5YDtjMd53J8Zuwc"},J=(a(189),function(e){return{type:"SET_USER_CORDS",payload:e}}),q=function(e){return{type:"SET_CORD_CHANGE",payload:e}},X={position:"relative",width:"inherit",height:"inherit"},Q=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).onMarkerDragEnd=function(t){if(e.props.draggable){var a=t.latLng,n=a.lat(),o=a.lng();e.props.setUserCords([n,o]),e.props.setuserCordsFlag(!0)}},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"mapHolder"},i.a.createElement(V.Map,{key:(new Date).getTime(),google:this.props.google,zoom:14,containerStyle:X,initialCenter:{lat:this.props.currentLat,lng:this.props.currentLong}},i.a.createElement(V.Marker,{title:"Your current location",position:{lat:this.props.currentLat,lng:this.props.currentLong},name:"Your position",id:1,draggable:this.props.draggable,onDragend:function(t,a,n){return e.onMarkerDragEnd(n)}})))}}]),a}(i.a.Component),$=Object(b.b)(null,(function(e){return{setUserCords:function(t){return e(J(t))},setuserCordsFlag:function(t){return e(q(t))}}}))(Object(V.GoogleApiWrapper)({apiKey:Y.apiKey})(Q)),ee=Object(b.b)((function(e){return{userCords:e.userCords.userCords,commuteFlag:e.commmuteFlag.commuteFlag}}))((function(e){var t=e.userCords,a=e.commuteFlag;return null!==t?i.a.createElement("div",{className:"mapcontainer"},i.a.createElement(M.a,{variant:"outlined",className:"shadowCustom"},i.a.createElement("div",{className:"mapcontainer"},i.a.createElement($,{currentLat:t[0],currentLong:t[1],draggable:!a}),a?null:i.a.createElement("div",{className:"instruction"},"Drag the Locator to change your present location.")))):null})),te=(a(205),Object(b.b)((function(e){return{locationTags:e.locationTags.locationTags,selectedHospitalZoneTags:e.selectedHospitalZoneTags.selectedHospitalZoneTags}}))((function(e){return null!==e.locationTags&&null!==e.selectedHospitalZoneTags?"userTag"===e.tagtype?i.a.createElement("div",{className:"staticTagHolderContainer"},e.locationTags.map((function(e,t){return i.a.createElement("div",{key:t,className:"staticKeyTags"},e)}))):i.a.createElement("div",{className:"staticTagHolderContainer"},e.selectedHospitalZoneTags.map((function(e,t){return i.a.createElement("div",{key:t,className:"staticKeyTags"},e)}))):null}))),ae=function(e){return{type:"SET_LOCATION_MODAL",payload:e}},ne=(a(206),a(148),a(314)),oe=function(e){return i.a.createElement("div",{className:"iframe-container",dangerouslySetInnerHTML:{__html:e.iframe?e.iframe+Y.apiKey+"&center="+e.userCords[0]+","+e.userCords[1]+"&zoom=11&q=health+ambulance+service+medical+near+"+e.pin+"' allowfullscreen></iframe>":""}})},le=Object(b.b)((function(e){return{addressComponents:e.addressComponents.addressComponents,userCords:e.userCords.userCords}}))((function(e){return i.a.createElement(D.a,{fullScreen:!0,open:e.open,onClose:e.onclose,"aria-labelledby":"Display Ambulances","aria-describedby":"Display Ambulances"},i.a.createElement(O,null),i.a.createElement("div",{className:"filterTagsHeader"},"Check Ambulance Services Near You"),i.a.createElement("div",{className:"filterTagsBodySortAmbulance"},i.a.createElement("div",{className:"SortTitleDesc"},"View available ambulance services near you.We strongly suggest to call and book an appointment."),i.a.createElement("div",{className:"dividerHolder"},i.a.createElement(ne.a,null)),i.a.createElement("div",{className:"iframeContainer"},i.a.createElement(oe,{iframe:"<iframe width='100%' height='450px' frameborder='0' style='border:0' src='https://www.google.com/maps/embed/v1/search?key=",pin:e.addressComponents[e.addressComponents.length-1].long_name,userCords:e.userCords})),i.a.createElement("div",{className:"actionHolder"},i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.onclose()}},"Close"))))})),re="&key="+Y.apiKey,se=function(e,t,a){var n;return console.log("Communication fetched=="+e),n=void 0!==t?void 0!==a?"https://cors-anywhere.herokuapp.com/"+e+t+re:e+t+re:e,fetch(n).then((function(e){return e.json()}))},ie={getUserCurrentLocation:"https://maps.googleapis.com/maps/api/geocode/json?latlng=",getPlaceDetails:"https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input=",getHospitalCompleteDetails:"https://maps.googleapis.com/maps/api/place/details/json?place_id=",getCoronaUpdate:"https://api.covid19india.org/state_district_wise.json",getHospitalCodes:"https://joyjd.github.io/cv19api/hospitalCodes.json",getHospitalDetails:"https://joyjd.github.io/cv19api/hospitalDetails.json"},ce=a(7),de=a(317),ue=a(319),pe=a(321),me=a(315),he=a(318),ge=a(320),fe=a(316),ve=(a(207),Object(ce.a)((function(e){return{head:{backgroundColor:"#1a355c",color:e.palette.common.white},body:{fontSize:14}}}))(me.a)),Ee=Object(ce.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:"#639ab626"}}}}))(fe.a),ye=Object(de.a)({table:{},root:{borderRadius:"205px",background:"#e9e2e2",boxShadow:"3px 3px 7px #c6c0c0,  -3px -3px 7px #ffffff",color:"#1a355c9e",margin:"0 5px 2px 0"}}),be=function(e){var t=ye();return null!==e.c_data?i.a.createElement(D.a,{fullScreen:!0,open:e.open,onClose:e.onclose,"aria-labelledby":"Display Corona Details","aria-describedby":"Display Corona Details"},i.a.createElement(O,null),i.a.createElement("div",{className:"filterTagsHeader"},"View COVID19 Information"),i.a.createElement("div",{className:"filterTagsBodyCoronaTable"},i.a.createElement("div",{className:"SortTitleDesc"},"District-wise data of COVID19 pandemic in West Bengal."),i.a.createElement("div",{className:"dividerHolder"},i.a.createElement(ne.a,null)),i.a.createElement("div",null,i.a.createElement(he.a,{component:M.a,id:"hospitalDetailTable"},i.a.createElement(ue.a,{className:t.table,"aria-label":"customized table"},i.a.createElement(ge.a,null,i.a.createElement(fe.a,{style:{backgroundColor:"red",color:"white"}},i.a.createElement(ve,null,"District"),i.a.createElement(ve,{align:"right"},"Infected"),i.a.createElement(ve,{align:"right"},"Active"),i.a.createElement(ve,{align:"right"},"Recovered"),i.a.createElement(ve,{align:"right"},"Dead"))),i.a.createElement(pe.a,null,Object.keys(e.c_data).map((function(t,a){return i.a.createElement(Ee,{key:a},i.a.createElement(ve,{align:"right"},t),i.a.createElement(ve,{align:"right"},e.c_data[t].confirmed),i.a.createElement(ve,{align:"right"},e.c_data[t].active),i.a.createElement(ve,{align:"right"},e.c_data[t].recovered),i.a.createElement(ve,{align:"right"},e.c_data[t].deceased))})))))),i.a.createElement("div",{className:"actionHolder"},i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.onClose()}},"Close")))):null},Ce=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).totalData=null,e.getCoronaDetails=function(){se(ie.getCoronaUpdate).then((function(t){console.log(t),e.totalData=t["West Bengal"].districtData;var a=0,n=0,o=0;Object.keys(e.totalData).forEach((function(t){a+=e.totalData[t].confirmed,n+=e.totalData[t].recovered,o+=e.totalData[t].deceased})),e.setState({infected:a,recovered:n,deceased:o})}),(function(e){}))},e.handleScroll=function(){var t=window.scrollY-e.myRef.current.offsetTop;t+=250,e.myRef2.current.style.left=t+"px",null!==e.ambulanceTravelNode&&e.ambulanceTravelNode>t?(e.myRef2.current.classList.add("displayAmb2"),e.myRef2.current.classList.remove("displayAmb1")):null!==e.ambulanceTravelNode&&t<0&&(e.myRef2.current.classList.remove("displayAmb2"),e.myRef2.current.classList.add("displayAmb1")),e.ambulanceTravelNode=t},e.handleCloseAmbulanceModal=function(){e.setState({displayambulance:!1})},e.openAmbulanceModal=function(){e.setState({displayambulance:!0})},e.openCoronaModal=function(){e.setState({displayCorona:!0})},e.closeCoronaModal=function(){e.setState({displayCorona:!1})},e.myRef=i.a.createRef(),e.myRef2=i.a.createRef(),e.state={infected:0,recovered:0,deceased:0,displayambulance:!1,displayCorona:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),this.getCoronaDetails()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"amb",ref:this.myRef,onScroll:this.handleScroll},i.a.createElement("div",{className:"bg-move displayAmb1",ref:this.myRef2},i.a.createElement("div",{className:"coronaDataHolderTitle "},"COVID19 Updates(WB)"),i.a.createElement("div",{className:"dataHolder"},i.a.createElement("div",null,i.a.createElement("div",{className:"dataDiv"},"Infected"),i.a.createElement("div",null,this.state.infected)),i.a.createElement("div",null,i.a.createElement("div",{className:"dataDiv"},"Recovered"),i.a.createElement("div",null,this.state.recovered)),i.a.createElement("div",null,i.a.createElement("div",{className:"dataDiv"},"Death"),i.a.createElement("div",null,this.state.deceased))),i.a.createElement("div",{className:"coronaDetailsPromptHolder",onClick:function(){return e.openCoronaModal()}},i.a.createElement("mark",null,i.a.createElement("em",null,"View District-wise"))))),i.a.createElement("div",{className:"ambLight light--flash"}),i.a.createElement("div",{className:"ambulanceContainer",onClick:function(){return e.openAmbulanceModal()}},i.a.createElement("div",{className:"ambulancePromptHolder"},"Find Ambulances Near You")),i.a.createElement(le,{onclose:function(){return e.handleCloseAmbulanceModal()},open:this.state.displayambulance}),i.a.createElement(be,{c_data:this.totalData,open:this.state.displayCorona,onClose:function(){return e.closeCoronaModal()}}))}}]),a}(i.a.Component),Te=(a(208),{position:"relative",width:"inherit",height:"inherit"}),Se=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return null===this.props.searchText&&(JSON.stringify(e.selectedHospitalList.sort())!==JSON.stringify(this.props.selectedHospitalList.sort())&&(JSON.stringify(e.selectedHospitalZoneTags)!==JSON.stringify(this.props.selectedHospitalZoneTags)||JSON.stringify(e.selectedHospitalList.sort())!==JSON.stringify(this.props.selectedHospitalList.sort())))}},{key:"render",value:function(){return null!==this.props.selectedHospitalList?i.a.createElement("div",{className:"mapHolderHospitalSnapshot"},i.a.createElement(V.Map,{key:(new Date).getTime(),google:this.props.google,zoom:10,containerStyle:Te,initialCenter:{lat:this.props.userCords[0],lng:this.props.userCords[1]}},this.props.selectedHospitalList.map((function(e,t){return i.a.createElement(V.Marker,{key:t,position:{lat:e.h_loc.lat,lng:e.h_loc.lng},name:e.h_name,id:1})}))),i.a.createElement("div",{className:"instructionSnapShot"},i.a.createElement("strong",null,this.props.selectedHospitalList.length," Hospitals ")," found at your selected Areas/Zones.",i.a.createElement("br",null),"Scroll down to view the detailed list of hospitals.")):null}}]),a}(i.a.Component),_e=Object(b.b)((function(e){return{userCords:e.userCords.userCords,selectedHospitalList:e.selectedHospitalList.selectedHospital,searchText:e.searchText.searchText,selectedHospitalZoneTags:e.selectedHospitalZoneTags.selectedHospitalZoneTags}}))(Object(V.GoogleApiWrapper)({apiKey:Y.apiKey})(Se)),De=a(209),Ne=a.n(De),ke=["country"],He=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).renderCount=0,o.prepareLocationTags=function(){var e=o.props.addressComponents.filter((function(e){return!e.types.some((function(e){return ke.includes(e)}))}));o.props.setLocationTags(Object(j.a)(new Set(e.map((function(e){return e.long_name})).filter((function(e){return"West Bengal"!==e})))))},o.handleOpenLocationModal=function(){o.props.setLocationModal(!0)},o.state={},o}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){null!==this.props.addressComponents&&this.prepareLocationTags()}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return null}},{key:"render",value:function(){var e=this;return null!==this.props.addressComponents?i.a.createElement("div",null,i.a.createElement("div",{className:"locationCardContainer"},i.a.createElement(M.a,{elevation:3,className:"transparentBorder"},i.a.createElement(K,{accessPermission:this.props.accessPermission}),i.a.createElement(ee,null),this.props.commuteFlag?null:i.a.createElement("div",{className:"addressInputHolder"},i.a.createElement("div",{className:"addressInputIconHolder"},i.a.createElement(Ne.a,{fontSize:"small"})),i.a.createElement(A.a,{style:{fontWeight:"500",letterSpacing:"0",textTransform:"none"},size:"small",onClick:function(){return e.handleOpenLocationModal()}},"Not Correct? Type your current address")),i.a.createElement(te,{tagtype:"userTag"}),i.a.createElement(_e,null))),i.a.createElement(Ce,null)):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return null}}]),a}(i.a.Component),Oe=Object(b.b)((function(e){return{addressComponents:e.addressComponents.addressComponents,commuteFlag:e.commmuteFlag.commuteFlag}}),(function(e){return{setLocationTags:function(t){return e(function(e){return{type:"SET_LOCATION_TAGS",payload:e}}(t))},setLocationModal:function(t){return e(ae(t))}}}))(He),Le=(a(210),a(270)),Fe=a.n(Le),xe=a(269),we=a.n(xe),je=a(271),Me=a.n(je),Ae=Object(b.b)((function(e){return{selectedHospitalList:e.selectedHospitalList.selectedHospital,searchText:e.searchText.searchText}}))((function(e){var t=e.selectedHospitalList,a=e.searchText;return null!==t?i.a.createElement("div",null,i.a.createElement("div",null,"Hospitals Found (",t.length,")*"),null===a?i.a.createElement("div",{className:"listNature"},"* based on your current location areas"):i.a.createElement("div",{className:"listNature"},"* based on Search Results")):null})),Be=a(46),Ie=function(e){return{type:"SET_SELECTED_HOSPITAL_LIST",payload:e}},Pe=function(e){return{type:"SET_SEARCH_TEXT",payload:e}},Ze=(a(211),a(332)),ze=a(212),Re=a.n(ze),We=function(e){var t=e.sort((function(e,t){return Number(e.h_dist)-Number(t.h_dist)})),a=null,n=[];return t.forEach((function(e,t){""===e.h_dist&&(a=t)})),null!==a&&(n=t.splice(0,a+1)),t=t.concat(n)},Ue=function(e){for(var t=0,a=(e=e.split(" ")).length;t<a;t++)e[t]=e[t][0].toUpperCase()+e[t].substr(1);return e.join(" ")},Ge=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).org_selectedHospital=[],o.prepareSearchEngine=function(){var e=[];Object.keys(o.props.hospitalDetails).forEach((function(t){o.props.hospitalDetails[t].forEach((function(t){o.org_selectedHospital.push(t),o.props.completeHospitalData[t.h_name]&&o.props.completeHospitalData[t.h_name].name!==t.h_name?e.push(Object(Be.a)({},t.h_name,[t.h_name,o.props.completeHospitalData[t.h_name].name])):e.push(Object(Be.a)({},t.h_name,[t.h_name]))}))})),o.setState({searchEngine:e})},o.getSearchResults=function(){var e=[],t=[];o.state.searchEngine.filter((function(e){return 0!==e[Object.keys(e)[0]].filter((function(e){return e.toLowerCase().includes(o.state.searchText.toLowerCase())})).length})).forEach((function(t){return e.push(Object.keys(t)[0])})),e.forEach((function(e){t.push(o.org_selectedHospital.filter((function(t){return t.h_name.includes(e)}))[0])})),t=Object(j.a)(new Set(t)),o.props.setSelectedlList(We(t))},o.preparePostSearchSelectedZoneHospitalList=function(){var e=[];o.props.selectedHospitalLocationTags.forEach((function(t){o.props.hospitalDetails[t]&&o.props.hospitalDetails[t].forEach((function(t){return e.push(t)}))})),o.props.setSelectedlList(We(e))},o.handleSearchEngine=function(e){""!==e.target.value.trim()?(o.props.setSearchText(e.target.value),o.setState({searchText:e.target.value},(function(){return o.getSearchResults()}))):(o.props.setSearchText(null),o.setState({searchText:""},(function(){return o.preparePostSearchSelectedZoneHospitalList()})))},o.state={searchEngine:null,searchText:""},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){null!==this.props.hospitalDetails&&this.prepareSearchEngine()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"displayFlex searchBoxHospitalContainer shadowCustom"},i.a.createElement("div",{className:"searchIconHolder"},i.a.createElement(Re.a,null)),i.a.createElement("div",{className:"w_100"},i.a.createElement(Ze.a,{type:"search",id:"outlined-textarea",value:this.state.searchText,className:"w_100",label:"Search Hospitals By Name",placeholder:"Find any COVID19 hospital ..",variant:"filled",onChange:function(t){return e.handleSearchEngine(t)}})))}}]),a}(i.a.Component),Ke=Object(b.b)((function(e){return{hospitalDetails:e.totalHospitalDetails.totalHospitalDetails,selectedHospitalLocationTags:e.selectedHospitalZoneTags.selectedHospitalZoneTags,completeHospitalData:e.rawHospitalData.rawHospitalData}}),(function(e){return{setSelectedlList:function(t){return e(Ie(t))},setSearchText:function(t){return e(Pe(t))}}}))(Ge),Ve=(a(213),function(e){return{type:"SET_SELECTED_HOSPITAL_ZONE_TAGS",payload:e}}),Ye=(a(214),a(337)),Je=a(216),qe=a.n(Je),Xe=a(217),Qe=a.n(Xe),$e=a(215),et=a.n($e),tt=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).loc_selectedTags=null,o.loc_leftTags=null,o.updateLocateStates=function(){o.setState({selectedTags:o.loc_selectedTags,leftTags:o.loc_leftTags})},o.handleCancel=function(){o.setState({selectedTags:o.props.selectedHospitalZoneTags,leftTags:Object.keys(o.props.hospitalDetails).filter((function(e){return!o.props.selectedHospitalZoneTags.includes(e)}))},(function(){return o.props.onClose("","cancel")}))},o.handleFilterChange=function(e,t){if("del"===e){var a=o.state.selectedTags;a.splice(a.findIndex((function(e){return e===t})),1),o.setState({selectedTags:a,leftTags:o.state.leftTags.concat(t).sort()})}else{var n=o.state.leftTags;n.splice(n.findIndex((function(e){return e===t})),1),o.setState({selectedTags:o.state.selectedTags.concat(t).sort(),leftTags:n})}},o.handleDelete=function(e,t){return o.handleFilterChange(e,t)},o.state={selectedTags:[],leftTags:[]},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;null!==this.props.selectedHospitalZoneTags&&null!==this.props.hospitalDetails&&this.setState({selectedTags:this.props.selectedHospitalZoneTags,leftTags:Object.keys(this.props.hospitalDetails).filter((function(t){return!e.props.selectedHospitalZoneTags.includes(t)}))})}},{key:"componentDidUpdate",value:function(e){var t=this;e.selectedHospitalZoneTags!==this.props.selectedHospitalZoneTags&&(console.log(this.props.selectedHospitalZoneTags),console.log(this.state.selectedTags),this.loc_selectedTags=this.props.selectedHospitalZoneTags,this.loc_leftTags=Object.keys(this.props.hospitalDetails).filter((function(e){return!t.props.selectedHospitalZoneTags.includes(e)})),this.loc_selectedTags!==this.state.selectedTags&&this.updateLocateStates())}},{key:"render",value:function(){var e=this;return this.props.open?i.a.createElement(D.a,{fullScreen:!0,open:this.props.open,onClose:this.props.onclose,"aria-labelledby":"Select Hospital Zones","aria-describedby":"Option to select Hospital Area Tags"},i.a.createElement(O,null),i.a.createElement("div",{className:"filterTagsHeader"},"Select Areas/ Zones"),i.a.createElement("div",{className:"filterTagsBody"},i.a.createElement("div",null,"You can select areas/zones to view COVID19 treatment providing hospitals of that area."),i.a.createElement("div",{className:"dividerHolder"},i.a.createElement(ne.a,null)),i.a.createElement("div",{className:"displayFlex headerTagLineDesc"},i.a.createElement("div",null,i.a.createElement(et.a,{fontSize:"small"})),i.a.createElement("div",null,"Selected ",this.state.selectedTags.length," out of ",this.state.selectedTags.length+this.state.leftTags.length," Areas/Zones.")),i.a.createElement("div",{className:"chipsHolder"},this.state.selectedTags.sort().map((function(t,a){return i.a.createElement("div",{key:a,className:"chipsKey"},i.a.createElement(Ye.a,{key:a,size:"small",label:t,color:"primary",onClick:function(){return e.handleFilterChange("del",t)},onDelete:function(){return e.handleDelete("del",t)},deleteIcon:i.a.createElement(qe.a,null)}))})),this.state.leftTags.sort().map((function(t,a){return i.a.createElement("div",{key:a,className:"chipsKey"},i.a.createElement(Ye.a,{key:a,size:"small",label:t,color:"default",onClick:function(){return e.handleFilterChange("add",t)},onDelete:function(){return e.handleDelete("add",t)},deleteIcon:i.a.createElement(Qe.a,null)}))}))),i.a.createElement("div",{className:"dividerHolder displayEqual"},i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.handleCancel()}},"Cancel"),i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.props.onClose(e.state.selectedTags,"")}},"Apply Selection")))):null}}]),a}(i.a.Component),at=Object(b.b)((function(e){return{selectedHospitalZoneTags:e.selectedHospitalZoneTags.selectedHospitalZoneTags,hospitalDetails:e.totalHospitalDetails.totalHospitalDetails}}))(tt),nt=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).handleCloseAreaTags=function(e,t){if(""===t){var a=[];e.forEach((function(e){o.props.hospitalDetails[e]&&(a=a.concat(o.props.hospitalDetails[e]))})),o.props.setSelectedHospitalZoneTags(e),o.props.setSelectedlList(We(a))}o.setState({areaTagsOption:!1},(function(){return o.props.setSearchText(null)}))},o.handleOpenAreaTags=function(){o.setState({areaTagsOption:!0})},o.state={areaTagsOption:!1},o}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return null!==this.props.selectedHospitalZoneTags&&null!==this.props.hospitalDetails?i.a.createElement("div",{className:"filterDiv"},i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.handleOpenAreaTags()}},"Filter by Area / Zones"),i.a.createElement(at,{open:this.state.areaTagsOption,onClose:function(t,a){return e.handleCloseAreaTags(t,a)}})):null}}]),a}(i.a.Component),ot=Object(b.b)((function(e){return{selectedHospitalZoneTags:e.selectedHospitalZoneTags.selectedHospitalZoneTags,hospitalDetails:e.totalHospitalDetails.totalHospitalDetails}}),(function(e){return{setSelectedlList:function(t){return e(Ie(t))},setSearchText:function(t){return e(Pe(t))},setSelectedHospitalZoneTags:function(t){return e(Ve(t))}}}))(nt),lt=(a(218),a(334)),rt=a(323),st=a(335),it=(a(219),a(322)),ct=a(43);function dt(e){var t=i.a.useState(""===e.initialVal?"isChecked_op_hospital":e.initialVal),a=Object(B.a)(t,2),n=a[0],o=a[1],l=Object(ct.a)(),r=Object(it.a)(l.breakpoints.down("md"));return i.a.createElement(D.a,{fullScreen:r,open:e.open,onClose:e.onclose,"aria-labelledby":"Sort Hospitals","aria-describedby":"Option to sort Hospitals"},i.a.createElement(O,null),i.a.createElement("div",{className:"filterTagsHeader"},"Sort Hospitals"),i.a.createElement("div",{className:"filterTagsBodySort"},i.a.createElement("div",{className:"SortTitleDesc"},"You can sort list of hospitals according to your view"),i.a.createElement("div",{className:"dividerHolder"},i.a.createElement(ne.a,null)),i.a.createElement("div",{className:"displayFlex headerTagLineDesc"}),i.a.createElement("div",{className:"chipsHolder"},i.a.createElement(st.a,{"aria-label":"gender",name:"gender1",value:n,onChange:function(t){o(t.target.value),e.handleRadioChange(t.target.value)}},i.a.createElement(rt.a,{value:"isChecked_op_bed",control:i.a.createElement(lt.a,{color:"primary"}),label:"More vacancy of COVID beds"}),i.a.createElement(rt.a,{value:"isChecked_op_hospital",control:i.a.createElement(lt.a,{color:"primary"}),label:"Hospitals nearer to your current location"}))),i.a.createElement("div",{className:"dividerHolder displayEqual"},i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.onClose(!1)}},"Cancel"),i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.onClose(!0)},autoFocus:!0},"Sort"))))}var ut=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).sortOptions="",o.sortData=function(){if("isChecked_op_hospital"===o.sortOptions){var e=o.props.selectedHospitalList.sort((function(e,t){return Number(e.h_dist)-Number(t.h_dist)})),t=null,a=[];e.forEach((function(e,a){""===e.h_dist&&(t=a)})),null!==t&&(a=e.splice(0,t+1)),console.log(a),e=e.concat(a),o.props.setSelectedlList(e)}else o.props.setSelectedlList(o.props.selectedHospitalList.sort((function(e,t){return t.c_bed-e.c_bed})))},o.handleSwitchChange=function(e){o.sortOptions=e},o.handleOpenFilter=function(){o.setState({openFilteralert:!0})},o.handleCloseAlert=function(e){o.setState({openFilteralert:!1}),e&&o.sortData()},o.state={openFilteralert:!1},o}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"sortDiv"},i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.handleOpenFilter()}},"Manage View"),i.a.createElement(dt,{open:this.state.openFilteralert,onClose:function(t){return e.handleCloseAlert(t)},initialVal:this.sortOptions,handleRadioChange:function(t){return e.handleSwitchChange(t)}}))}}]),a}(i.a.Component),pt=Object(b.b)((function(e){return{selectedHospitalList:e.selectedHospitalList.selectedHospital}}),(function(e){return{setSelectedlList:function(t){return e(Ie(t))}}}))(ut),mt=Object(b.b)((function(e){return{selectedHospitalZoneTags:e.selectedHospitalZoneTags.selectedHospitalZoneTags}}))((function(e){var t=e.selectedHospitalZoneTags;return null!==t?t.length:null})),ht=a(328),gt=(a(220),a(324)),ft=a(245),vt=a.n(ft),Et=(a(221),a(243)),yt=a.n(Et),bt=a(151),Ct=a(244),Tt=a.n(Ct),St=Object(ce.a)((function(e){return{head:{backgroundColor:"#1a355c",color:e.palette.common.white},body:{fontSize:14}}}))(me.a),_t=Object(ce.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:"#639ab626"}}}}))(fe.a),Dt=Object(de.a)({table:{},root:{borderRadius:"205px",background:"#e9e2e2",boxShadow:"3px 3px 7px #c6c0c0,  -3px -3px 7px #ffffff",color:"#1a355c9e",margin:"0 5px 2px 0"}}),Nt=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),kt=Object(b.b)((function(e){return{userCords:e.userCords.userCords,selectedHospitalList:e.selectedHospitalList.selectedHospital}}))((function(e){var t=Dt();return null!==e.userCords?i.a.createElement(he.a,{component:M.a,id:"hospitalDetailTable"},i.a.createElement(ue.a,{className:t.table,"aria-label":"customized table"},i.a.createElement(ge.a,null,i.a.createElement(fe.a,{style:{backgroundColor:"red",color:"white"}},i.a.createElement(St,null,"Covid19 Hospital(",e.selectedHospitalList.length,")"),i.a.createElement(St,{align:"right"},"Area"),i.a.createElement(St,{align:"right"},"Vacant Beds*"),i.a.createElement(St,{align:"right"}))),i.a.createElement(pe.a,null,e.selectedHospitalList.map((function(a){return i.a.createElement(_t,{key:a.h_name},i.a.createElement(St,{component:"th",scope:"row"},i.a.createElement("div",{style:{textDecoration:"underline"},onClick:function(){return e.onClick(a.h_name,a.h_zone,a.c_bed,a.h_dist)}},i.a.createElement("strong",null," ",a.h_name)),i.a.createElement("div",{className:"distanceIndicator"},""!==a.h_loc?i.a.createElement("span",{className:"distanceData"},i.a.createElement(yt.a,null)):i.a.createElement("span",{className:"errorData"},i.a.createElement(Tt.a,null)),i.a.createElement("span",null,""!==a.h_loc?a.h_dist=Nt.format(bt.getPreciseDistance({latitude:e.userCords[0],longitude:e.userCords[1]},{latitude:a.h_loc.lat,longitude:a.h_loc.lng})/1e3):""),""!==a.h_loc?i.a.createElement("span",null,"Km away*"):i.a.createElement("span",null,"Data not known"))),i.a.createElement(St,{align:"right"},a.h_zone),i.a.createElement(St,{align:"right"},i.a.createElement("div",{className:"displayFlex"},a.c_bed>2?i.a.createElement("div",{className:"icon-green"},i.a.createElement("i",null)):i.a.createElement("div",{className:"icon-orange"},i.a.createElement("i",null)),i.a.createElement("strong",null,a.c_bed))),i.a.createElement(St,{align:"right"},i.a.createElement(gt.a,{classes:{root:t.root},size:"small",color:"primary","aria-label":"add",onClick:function(){return e.onClick(a.h_name,a.h_zone,a.c_bed,a.h_dist)}},i.a.createElement(vt.a,{fontSize:"small"}))))})))),0===e.selectedHospitalList.length?i.a.createElement("div",{className:"noResultFoundcontainer"},"No hospitals found."):i.a.createElement("span",null)):null})),Ht=(a(246),a(325)),Ot=a(326),Lt=a(327),Ft=a(338),xt=a(333),wt=a(249),jt=a.n(wt),Mt=a(250),At=a.n(Mt),Bt=a(251),It=a.n(Bt),Pt=a(247),Zt=a.n(Pt),zt=a(248),Rt=a.n(zt),Wt=a(33),Ut=a(254),Gt=a.n(Ut),Kt=a(252),Vt=a.n(Kt),Yt=a(253),Jt=a.n(Yt),qt="<iframe   width='100%' height='300px' frameborder='0' style='border:0' src='https://www.google.com/maps/embed/v1/directions?key=",Xt=Object(b.b)((function(e){return{userCords:e.userCords.userCords}}))((function(e){return i.a.createElement("div",{className:"iframe-container",dangerouslySetInnerHTML:{__html:qt+Y.apiKey+"&origin="+e.userCords[0]+","+e.userCords[1]+"&destination="+e.hospitalCord[0]+","+e.hospitalCord[1]+"&zoom=11&avoid=tolls|highways' allowfullscreen></iframe>"}})})),Qt=Object(de.a)((function(e){return{smallGreen:{width:e.spacing(3),height:e.spacing(3),color:"#fff",backgroundColor:Wt.a[500]}}})),$t=function(e){var t=Qt();return i.a.createElement("div",null,void 0!==e.data?i.a.createElement("div",{className:"ribbon"},i.a.createElement("span",null,i.a.createElement(Zt.a,{fontSize:"small"}),e.data.rating)):null,i.a.createElement(M.a,{elevation:3},i.a.createElement("div",{className:"hosp_detailContainer"},i.a.createElement("div",{className:"covidInfoBody"},i.a.createElement("div",null,i.a.createElement(Ft.a,{variant:"rounded",className:t.smallGreen},i.a.createElement(Rt.a,{fontSize:"small"}))),i.a.createElement("div",{className:"displayData displayFlex"},i.a.createElement(C.a,null,i.a.createElement("span",{className:"covidNumberLabel"},e.c_bed)),i.a.createElement(C.a,{color:"textSecondary"}," vacant COVID-19 beds *"))),i.a.createElement(C.a,{component:"div",className:"m_t_-5"},i.a.createElement(xt.a,{fontStyle:"italic",m:1},i.a.createElement("div",{className:"disclaimerCovid"},"*data displayed as per WB Government"))),i.a.createElement("div",{className:"hospInfoBody"},void 0!==e.data?i.a.createElement("div",{className:"displayFlex "},i.a.createElement("div",null,i.a.createElement(jt.a,{fontSize:"small"})),i.a.createElement("div",{className:"displayData"},e.data.formatted_address)):null,void 0!==e.data?i.a.createElement("div",{className:"displayFlex "},i.a.createElement("div",null,i.a.createElement(At.a,{fontSize:"small"})),i.a.createElement("div",{className:"displayData"},i.a.createElement("a",{href:"tel:{props.data.formatted_phone_number}"},e.data.formatted_phone_number," ")," / ",i.a.createElement("a",{href:"tel:{props.data.international_phone_number}"}," ",e.data.international_phone_number))):null,void 0!==e.data?i.a.createElement("div",{className:"displayFlex "},i.a.createElement("div",null,i.a.createElement(It.a,{fontSize:"small"})),i.a.createElement("div",{className:"displayData"},e.data.website?i.a.createElement("a",{href:"{props.data.website}"},e.data.website," "):"Not Known")):null,void 0!==e.data?i.a.createElement("div",{className:"mapcontainerHospital"},i.a.createElement(Xt,{hospitalCord:[e.data.geometry.location.lat,e.data.geometry.location.lng]})):null,""!==e.h_dist?i.a.createElement("div",{className:"displayFlex m_tb_5"},i.a.createElement("div",{className:"displayFlex"},i.a.createElement(Vt.a,null),i.a.createElement(Jt.a,{fontSize:"small"})),i.a.createElement("div",{className:"displayData"},"Tentative road-map shown, does not display present traffic conditions.Zoom in to check detils.")):null))),i.a.createElement("div",{className:"dividerCont"},i.a.createElement(ne.a,null)),void 0!==e.data&&void 0!==e.data.reviews?i.a.createElement("div",null,i.a.createElement("div",{className:"displayFlex m_tb_10"},i.a.createElement("div",null,i.a.createElement(Gt.a,{fontSize:"small"})),i.a.createElement("div",{className:"displayData fontBold"},"User Reviews")),i.a.createElement("div",{className:"reviewContainer"},e.data.reviews.map((function(e,t){return i.a.createElement(Ht.a,{key:t,className:"m_b_6 cardReviews"},i.a.createElement(Ot.a,{avatar:i.a.createElement(Ft.a,{src:e.profile_photo_url}),title:e.author_name,subheader:e.relative_time_description}),i.a.createElement(Lt.a,null,i.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},e.text)))})))):null)},ea=a(101);a(255);function ta(e){var t=Object(ct.a)(),a=Object(it.a)(t.breakpoints.down("sm"));return i.a.createElement("div",null,i.a.createElement(D.a,{fullScreen:a,open:e.open,onClose:e.handleClose,"aria-labelledby":"responsive-dialog-title"},i.a.createElement("div",{className:"hospitalImageContainer"},i.a.createElement("div",{className:"hosp_headerTitleContainer"},e.headerTitle)),i.a.createElement(_.a,null,e.body),i.a.createElement(ea.a,null,i.a.createElement(A.a,{style:{margin:"10px 20px 10px 0"},autoFocus:!0,onClick:function(){return e.onClose()},variant:"contained",color:"primary"},"Close"))))}function aa(e){return!0===e.open?i.a.createElement(D.a,{open:e.open,onClose:e.handleAlertClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(_.a,null,i.a.createElement(v.a,null))):null}var na=a(256),oa=a.n(na),la=a(3),ra=a(258),sa=a(259),ia=a.n(sa),ca=(a(260),a(264),function(){var e=Object(ra.a)(oa.a.mark((function e(t,a){var n;return oa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ua.doc("hospitals/".concat(t)),e.next=3,n.get();case 3:if(e.sent.exists||null===a&&void 0===a&&""===a&&a==={}){e.next=13;break}return e.prev=5,e.next=8,n.set(Object(la.a)({},a));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0.message);case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t,a){return e.apply(this,arguments)}}()),da=function(){var e=Object(ra.a)(oa.a.mark((function e(){var t,a;return oa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia.a.firestore().collection("hospitals").get();case 2:return t=e.sent,a={},t.forEach((function(e){a[e.id]=e.data()})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ia.a.initializeApp({apiKey:"AIzaSyBuRtnSpkl16_gayi7CkRj3xh98BNzWGKM",authDomain:"cv19ht.firebaseapp.com",databaseURL:"https://cv19ht.firebaseio.com",projectId:"cv19ht",storageBucket:"cv19ht.appspot.com",messagingSenderId:"848826688923",appId:"1:848826688923:web:2f264f379c627668fb2d3e",measurementId:"G-JLY08JDRW4"});var ua=ia.a.firestore(),pa=(ia.a,a(266),a(268)),ma=a.n(pa),ha=a(267),ga=a.n(ha),fa=function(e){var t=e.open,a=e.onclose,n=e.body;return i.a.createElement(D.a,{BackdropProps:{style:{background:"#b0c1cf",opacity:"0.97"}},PaperProps:{style:{borderRadius:"5px",height:"400px",width:"400px",backgroundColor:"#b0c1cf",boxShadow:"6px 6px 12px #96a4b0,-6px -6px 12px #cadeee"}},onClose:a,"aria-labelledby":"simple-dialog-title",open:t},i.a.createElement(_.a,null,i.a.createElement("div",{className:"ErrorBody"},i.a.createElement("div",{className:"ErrorHeader"},i.a.createElement("div",{className:"contentdiv"},i.a.createElement(ga.a,{fontSize:"large"})),i.a.createElement("div",{className:"contentdiv"},i.a.createElement(ma.a,{fontSize:"large"})),i.a.createElement("div",{className:"contentdiv textHeader"}," OOPS !")),i.a.createElement("div",{className:"ErrorDesc"},n),i.a.createElement("div",{className:"ErrorAction"},i.a.createElement("div",null,i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return a(!0)}},"Okay"))))))},va=function(e){return{type:"SET_RAW_HOSPITAL_DATA",payload:e}},Ea=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).proxyNeedFlagFirstCall=!1,e.proxyNeedFlagSecondCall=!1,e.googleFetchTryCountFirstCall=0,e.googleFetchTryCountSecondCall=0,e.completeHospitalData=[],e.errorBodyMessage="",e.modalContent={body:"",headerTitle:""},e.createHospitalDetailModayBody=function(t,a,n){var o;"string"===typeof t?(o=i.a.createElement($t,{c_bed:a,h_dist:n}),e.modalContent.headerTitle=t):(o=i.a.createElement($t,{data:t,c_bed:a,h_dist:n}),e.modalContent.headerTitle=t.name),e.modalContent.body=o},e.handleOpenModal=function(){e.setState({openModal:!0,openZoneBackDrop:!1})},e.handleHospitalDetailsPre=function(t,a,n,o){e.setState({openZoneBackDrop:!0},(function(){return e.handleHospitalDetails(t,a,n,o)}))},e.handleHospitalDetails=function(t,a,n,o){if(e.completeHospitalData[t])e.createHospitalDetailModayBody(e.completeHospitalData[t],n,o),e.handleOpenModal();else{t.split("").includes("[")&&t.split("[")[0];var l=(t.split("").includes("{")?t.split("{")[0]:t)+" Hospital Medical,"+a+",West Bengal,India"+"&inputtype=textquery&fields=place_id";(e.proxyNeedFlagFirstCall?se(ie.getPlaceDetails,l,"proxyNeeded"):se(ie.getPlaceDetails,l)).then((function(e){return 0!==e.candidates.length&&"OK"===e.status?e.candidates[0].place_id+"&fields=name,geometry,photos,rating,adr_address,business_status,formatted_address,formatted_phone_number,international_phone_number,opening_hours,website,price_level,rating,review,user_ratings_total":""}),(function(l){++e.googleFetchTryCountFirstCall,1===e.googleFetchTryCountFirstCall&&(e.proxyNeedFlagFirstCall=!0,e.handleHospitalDetails(t,a,n,o)),e.googleFetchTryCountFirstCall>1&&(e.googleFetchTryCountFirstCall=0,e.proxyNeedFlagFirstCall=!1,console.log("HospitalZoneComponent+ First call====p_id-=====ERROR !!!!!!"),e.errorBodyMessage="It seems Google API failed to retrieve details for "+t+".Either there is no details data available for this particular hospital over internet or Google failed to retrieve data at the moment.Please try again in sometime.",e.setState({openZoneBackDrop:!1,viewErrorModal:!0}))})).then((function(t){return e.proxyNeedFlagSecondCall?se(ie.getHospitalCompleteDetails,t,"proxyNeeded"):se(ie.getHospitalCompleteDetails,t)})).then((function(a){""!==a&&"OK"===a.status?(ca(t,a.result),e.completeHospitalData[t]=a.result,e.props.setRawHospitalData(e.completeHospitalData),e.props.selectedHospitalList[e.props.selectedHospitalList.findIndex((function(e){return e.h_name===t}))].h_loc=a.result.geometry.location,e.props.setSelectedlList(We(e.props.selectedHospitalList)),e.createHospitalDetailModayBody(e.completeHospitalData[t],n,o),e.handleOpenModal()):(e.createHospitalDetailModayBody(t,n,o),e.handleOpenModal())}),(function(a){++e.googleFetchTryCountSecondCall,1===e.googleFetchTryCountSecondCall&&(e.proxyNeedFlagSecondCall=!0),e.googleFetchTryCountSecondCall>1&&(e.googleFetchTryCountSecondCall=0,e.proxyNeedFlagSecondCall=!1,console.log("HospitalZoneComponent+ Second call====details-=====ERROR !!!!!!"),e.state.viewErrorModal||(e.errorBodyMessage="It seems Google API failed to retrieve details for "+t+".Either there is no details data available for this particular hospital over internet or Google failed to retrieve data at the moment.Please try again in sometime.",e.setState({openZoneBackDrop:!1,viewErrorModal:!0})))}))}},e.handleCloseModal=function(){e.setState({openModal:!1}),e.modalContent.headerTitle="",e.modalContent.body=""},e.handleErrorClose=function(){e.setState({viewErrorModal:!1})},e.state={openZoneBackDrop:!1,openModal:!1,viewErrorModal:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){null!==this.props.completeHospitalData&&(this.completeHospitalData=this.props.completeHospitalData)}},{key:"componentDidUpdate",value:function(){null!==this.props.completeHospitalData&&(this.completeHospitalData=this.props.completeHospitalData)}},{key:"render",value:function(){var e=this;return null!==this.props.selectedHospitalList?i.a.createElement(ht.a,null,i.a.createElement("div",{className:"hospitalListHoldContainer"},i.a.createElement(kt,{onClick:function(t,a,n,o){return e.handleHospitalDetailsPre(t,a,n,o)}})),i.a.createElement("div",{className:"disclaimerHospital"},i.a.createElement("div",null,"* Data displayed is as per WB Government website"),i.a.createElement("div",null,"* Distances shown are tentative and may not be exactly accurate")),i.a.createElement(ta,{open:this.state.openModal,onClose:this.handleCloseModal,headerTitle:this.modalContent.headerTitle,body:this.modalContent.body}),i.a.createElement(aa,{open:this.state.openZoneBackDrop}),i.a.createElement(fa,{open:this.state.viewErrorModal,onclose:function(){return e.handleErrorClose()},body:this.errorBodyMessage})):null}}]),a}(i.a.Component),ya=Object(b.b)((function(e){return{selectedHospitalList:e.selectedHospitalList.selectedHospital,completeHospitalData:e.rawHospitalData.rawHospitalData}}),(function(e){return{setRawHospitalData:function(t){return e(va(t))},setSelectedlList:function(t){return e(Ie(t))}}}))(Ea),ba=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).loc_selectedHospitalCount=0,o.pendingChange=!1,o.prepareSelectedZoneHospitalList=function(){var e=[],t=[];o.props.locationTags.forEach((function(a){o.props.hospitalDetails[Ue(a)]&&(o.props.hospitalDetails[Ue(a)].forEach((function(t){void 0===t.h_loc.lat&&void 0===t.h_loc.lng||(t.h_dist=Number(bt.getPreciseDistance({latitude:o.props.userCords[0],longitude:o.props.userCords[1]},{latitude:t.h_loc.lat,longitude:t.h_loc.lng})/1e3)),e.push(t)})),t.push(Ue(a)))})),0===t.length&&(o.props.hospitalDetails.Kolkata.forEach((function(t){e.push(t)})),t.push("Kolkata")),o.props.setSelectedlList(We(e)),o.props.setSelectedHospitalZoneTags(t),o.loc_selectedHospitalCount=e.length,o.pendingChange=!1},o.state={loc_hospitalZoneTags:[]},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){null!==this.props.locationTags&&null!==this.props.hospitalDetails&&null!==this.props.userCords&&null===this.props.searchText?this.prepareSelectedZoneHospitalList():null!==this.props.locationTags&&null!==this.props.hospitalDetails&&null!==this.props.userCords&&null!==this.props.searchText&&(this.pendingChange=!0)}},{key:"render",value:function(){return null!==this.props.locationTags?i.a.createElement(M.a,{elevation:3,className:"transparentBorder",id:"containerHospitalList"},i.a.createElement("div",{className:"hospitalTitleContainer"},i.a.createElement("div",{className:"hospitalIconholder transparentBorder"},i.a.createElement(we.a,{fontSize:"large",color:"primary"})),i.a.createElement("div",{className:"hospitalTitleHolderContainer"},i.a.createElement("div",{className:"hospitalAvatar"},i.a.createElement(Fe.a,{color:"secondary"})),i.a.createElement(Ae,null))),i.a.createElement(Ke,null),i.a.createElement("div",{className:"customButtonGroup"},i.a.createElement(M.a,{variant:"outlined",square:!0},null===this.props.searchText?i.a.createElement("div",{className:"btnCol"},i.a.createElement(ot,null),i.a.createElement(pt,null)):null,null===this.props.searchText?i.a.createElement("div",null,i.a.createElement("div",{className:"tagHeaderTitle"},i.a.createElement(C.a,{color:"textSecondary"},i.a.createElement(Me.a,{fontSize:"small"})),i.a.createElement(C.a,{color:"textSecondary"},"Selected Areas / Zones (",i.a.createElement(mt,null),")")),i.a.createElement("div",null,i.a.createElement(te,{tagtype:"hospitalTag"}))):null)),i.a.createElement(ya,null)):null}}]),a}(i.a.Component),Ca=Object(b.b)((function(e){return{hospitalDetails:e.totalHospitalDetails.totalHospitalDetails,locationTags:e.locationTags.locationTags,searchText:e.searchText.searchText,userCords:e.userCords.userCords}}),(function(e){return{setSelectedlList:function(t){return e(Ie(t))},setSelectedHospitalZoneTags:function(t){return e(Ve(t))}}}))(ba),Ta=(a(272),function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).handleInputChange=function(e){var t=e.target.name,a=e.target.value;o.setState(Object(Be.a)({},t,a))},o.handleSubmit=function(){""===o.state.locality||""===o.state.district||""===o.state.pin?o.setState({errorMssg:"All fields must be filled"}):o.setState({errorMssg:""},(function(){return o.props.onClose(o.state)}))},o.state={locality:"",district:"",pin:"",errorMssg:"",state:"West Bengal",country:"India"},o}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement(D.a,{BackdropProps:{style:{background:"#495aa0cc"}},PaperProps:{style:{background:"#495aa0cc"}},fullScreen:!0,open:this.props.open,onClose:this.props.handleAlertClose,"aria-labelledby":"Location prompt","aria-describedby":"Get user Location"},i.a.createElement(O,null),i.a.createElement(d.a,null,i.a.createElement("div",{className:"shadowCustom locBodyHolder"},i.a.createElement(M.a,{elevation:3},i.a.createElement("div",{className:"locPromptheader"},"Provide Address Details"),i.a.createElement("div",{className:"locPromptbody"},i.a.createElement("div",null,"We can trace your current location based on the address details you provide."),i.a.createElement("div",{className:"textFieldContainer"},i.a.createElement(Ze.a,{className:"w_100",id:"standard-multiline-static",name:"locality",value:this.state.locality,onChange:function(t){return e.handleInputChange(t)},label:"Your locality",multiline:!0,rows:4})),i.a.createElement("div",{className:"textFieldContainer"},i.a.createElement(Ze.a,{className:"w_100",id:"standard-basic",name:"district",value:this.state.district,onChange:function(t){return e.handleInputChange(t)},label:"District"})),i.a.createElement("div",{className:"textFieldContainer"},i.a.createElement(Ze.a,{className:"w_100",id:"standard-basic",name:"pin",value:this.state.pin,onChange:function(t){return e.handleInputChange(t)},type:"number",label:"Pin Code"})),i.a.createElement("div",{className:"textFieldContainer"},i.a.createElement(Ze.a,{className:"w_100",id:"standard-read-only-input",label:"State",defaultValue:"West Bengal",InputProps:{readOnly:!0}})),i.a.createElement("div",{className:"textFieldContainer"},"* Currently we are only supporting this application within West Bengal"),i.a.createElement("div",{className:"errorContainer"},this.state.errorMssg),i.a.createElement("div",{className:"textFieldContainer"},i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.handleSubmit()}},"Submit Location Details")))))))}}]),a}(i.a.Component)),Sa=a(308);function _a(e){return i.a.createElement(p.a,Object.assign({},e,{direction:"left"}))}var Da=function(e){var t=i.a.useState({vertical:"top",horizontal:"left"}),a=Object(B.a)(t,1)[0],n=a.vertical,o=a.horizontal;return null!==e.c_data?i.a.createElement(u.a,{autoHideDuration:4e3,TransitionComponent:_a,anchorOrigin:{vertical:n,horizontal:o},open:e.open,onClose:e.handleAlertClose,key:n+o},i.a.createElement(Sa.a,{style:{backgroundColor:"#000000eb",padding:"0px 0 0 20px",borderRadius:"15px",color:"#c4fff4",border:"3px solid #284065ba"},message:i.a.createElement("span",{id:"client-snackbar"},"Updating your current location ..")})):null},Na=(a(273),a(274)),ka=a.n(Na),Ha=a(275),Oa=a.n(Ha),La=i.a.forwardRef((function(e,t){return i.a.createElement(p.a,Object.assign({direction:"up",ref:t},e))}));function Fa(e){return i.a.createElement("div",{id:"welcomeDialogue"},i.a.createElement(D.a,{fullScreen:!0,open:e.open,TransitionComponent:La,onClose:e.handleAlertClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement("div",{className:"LocationblockedContainer"},i.a.createElement(d.a,{maxWidth:"xs"},i.a.createElement("div",{className:"LocationBlockBody"},i.a.createElement("div",{className:"displayFlex justifyCenter"},i.a.createElement("div",{className:"IconContainer"},i.a.createElement(ka.a,{fontSize:"large"}),i.a.createElement(Oa.a,{fontSize:"large"})),i.a.createElement("h2",null,"OOPS !")),i.a.createElement("div",{className:"displayFlex justifyCenter"},"It appears you have denied permission for accessing your device location or somehow COVID19HospitalTracker has been added to denied-Permission list in your browser."),i.a.createElement("br",null),i.a.createElement("div",null,'To change this, you can enable permission from your "Settings - Location Access"'),i.a.createElement("br",null),i.a.createElement("div",null,"Alternatively, if you do not wish to disclose your device location, you can type in your desired location address,and proceed along."),i.a.createElement("div",null,i.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return e.onClose()}},"Okay, I Understand")))))))}var xa=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).loc_PermissionAccess=!0,e.geoLocationMove=null,e.locChangeAlertCount=0,e.proxyNeedFlag=!1,e.googleFetchTryCount=0,e.errorBodyMessage="",e.hospitalList=[],e.temp_alert_data=null,e.loc_locationCoordinates_lat=null,e.loc_locationCoordinates_long=null,e.loc_cordChangeFlag=null,e.prepareHospitalData=function(){se(ie.getHospitalCodes).then((function(t){var a=t.filter((function(e){return Object.keys(e).length>=4})).filter((function(e){return 0!==e.vacant&&"string"!==typeof e.vacant}));e.hospitalList=Object.assign([],a)})).then((function(){return da()})).then((function(t){console.log("App firebase==========================================================================="+t),void 0===t||""===t||Array.isArray(t)||"object"!==typeof t?se(ie.getHospitalDetails).then((function(t){e.arrangeHospitalKeyMap(t)})):e.arrangeHospitalKeyMap(t)}),(function(t){se(ie.getHospitalDetails).then((function(t){e.arrangeHospitalKeyMap(t)}))}))},e.getLocationWhenCordsChangedByUser=function(){e.setState({openBackDrop:!0},(function(){return e.getFormattedAddress(e.props.userCords[0],e.props.userCords[1])}))},e.getLocationTrack=function(){navigator.geolocation&&(e.props.commuteFlag?e.geoLocationMove=navigator.geolocation.watchPosition((function(t){Number.parseFloat(e.loc_locationCoordinates_lat).toFixed(2)!==Number.parseFloat(t.coords.latitude).toFixed(2)||Number.parseFloat(e.loc_locationCoordinates_long).toFixed(2)!==Number.parseFloat(t.coords.longitude).toFixed(2)?(e.temp_alert_data=null,e.temp_alert_data=[t.coords.latitude,t.coords.longitude],e.setState({alertBar:!0}),console.log(t.coords.latitude),console.log(t.coords.longitude),e.getFormattedAddress(t.coords.latitude,t.coords.longitude)):e.setState({openBackDrop:!1})}),(function(t){"Timeout expired"===t.message?(e.handleBackDropClose(),e.errorBodyMessage="Geo location timed out",e.setState({viewErrorModal:!0},(function(){return e.getLocationTrack()}))):(e.handleBackDropClose(),e.loc_PermissionAccess=!1,e.setState({openPermissionDeniedAlert:!0}))}),{timeout:1/0,maximumAge:1e4,enableHighAccuracy:!0}):navigator.geolocation.getCurrentPosition((function(t){e.loc_locationCoordinates_lat!==t.coords.latitude&&e.loc_locationCoordinates_long!==t.coords.longitude?(e.locChangeAlertCount>1&&e.setState({alertBar:!0}),console.log(t.coords.latitude),console.log(t.coords.longitude),e.getFormattedAddress(t.coords.latitude,t.coords.longitude)):e.setState({openBackDrop:!1})}),(function(t){"Timeout expired"===t.message?(e.handleBackDropClose(),e.errorBodyMessage="Geo location timed out",e.setState({viewErrorModal:!0},(function(){return e.getLocationTrack()}))):(e.handleBackDropClose(),e.loc_PermissionAccess=!1,e.setState({openPermissionDeniedAlert:!0}))})))},e.getFormattedAddress=function(t,a){e.loc_locationCoordinates_lat=t,e.loc_locationCoordinates_long=a,se(ie.getUserCurrentLocation,t+","+a).then((function(n){0!==n.results.length?(e.props.setFormattedAddress(n.results[0].formatted_address),e.props.setUserCords([n.results[0].geometry.location.lat,n.results[0].geometry.location.lng]),e.props.setAddressComponents(n.results[0].address_components),e.setState({openBackDrop:!1})):(e.errorBodyMessage="Well, it seems Google MAP API is denied at the moment. This is something unusual. Please refresh the page or try again in sometime.",e.setState({openBackDrop:!1,viewErrorModal:!0},(function(){return e.props.setUserCords([t,a])})))}),(function(t){e.errorBodyMessage="Well, it seems Google MAP API failed at the moment. This is something unusual. Please refresh the page or try again in sometime.",e.setState({openBackDrop:!1,viewErrorModal:!0})}))},e.TransitionDown=function(e){return i.a.createElement(p.a,Object.assign({},e,{direction:"down"}))},e.searchGoogleForUserDetails=function(t){var a=t.locality+","+t.district+","+t.pin+",West Bengal,India"+"&inputtype=textquery&fields=formatted_address,geometry";(e.proxyNeedFlag?se(ie.getPlaceDetails,a,"proxyNeeded"):se(ie.getPlaceDetails,a)).then((function(a){if(0!==a.candidates.length){e.props.setUserCords([a.candidates[0].geometry.location.lat,a.candidates[0].geometry.location.lng]),e.props.commuteFlag&&e.props.setuserCordsFlag(!0);var n=[],o=a.candidates[0].formatted_address.split(",");o.pop(),o=o.forEach((function(e){n.push({long_name:e.trim(),short_name:e.trim(),types:["political","sublocality","sublocality_level_1"]})})),e.props.setFormattedAddress(a.candidates[0].formatted_address),e.props.setAddressComponents(n),e.setState({openBackDrop:!1})}else if(++e.googleFetchTryCount,1===e.googleFetchTryCount&&(e.proxyNeedFlag=!0,e.searchGoogleForUserDetails(t)),e.googleFetchTryCount>1){e.googleFetchTryCount=0,e.proxyNeedFlag=!1;var l=[],r=t.locality.split(" ");r.push(t.district),r=r.forEach((function(e){l.push({long_name:e.trim(),short_name:e.trim(),types:["political","sublocality","sublocality_level_1"]})}));var s=t.locality+","+t.district+", pin -"+t.pin;e.props.setUserCords([22.5726,88.3639]),e.props.commuteFlag&&e.props.setuserCordsFlag(!0),e.props.setFormattedAddress(s),e.props.setAddressComponents(l),e.setState({openBackDrop:!1,snackBar:!0,snackBarMessage:"The location obtained seems a non-valid address or a place outside West Bengal.Since currently we are only supporting within West Bengal, hence your default area is set as Kolkata."})}}),(function(a){if(++e.googleFetchTryCount,1===e.googleFetchTryCount&&(e.proxyNeedFlag=!0,e.searchGoogleForUserDetails(t)),e.googleFetchTryCount>1){e.googleFetchTryCount=0,e.proxyNeedFlag=!1;var n=[],o=t.locality.split(" ");o.push(t.district),o=o.forEach((function(e){n.push({long_name:e.trim(),short_name:e.trim(),types:["political","sublocality","sublocality_level_1"]})}));var l=t.locality+","+t.district+", pin -"+t.pin;e.props.setUserCords([22.5726,88.3639]),e.props.commuteFlag&&e.props.setuserCordsFlag(!0),e.props.setFormattedAddress(l),e.props.setAddressComponents(n),e.setState({openBackDrop:!1,snackBar:!0,snackBarMessage:"The location obtained seems a non-valid address or a place outside West Bengal.Since currently we are supporting only within West Bengal, hence your default area is set as Kolkata."})}}))},e.handleErrorClose=function(){e.setState({viewErrorModal:!1},(function(){return window.location.reload()}))},e.handleCloseWelcomeAlert=function(t){e.setState({openWelcomeAlert:!1,openBackDrop:!0},(function(){return e.getLocationTrack()}))},e.handleBackDropClose=function(){e.setState({openBackDrop:!1})},e.handleCloseLocationOptionAlert=function(t){e.props.setLocationModal(!1),e.setState({openBackDrop:!0},(function(){return e.searchGoogleForUserDetails(t)}))},e.handleCloseSnackBar=function(){e.setState({snackBar:!1})},e.handleAlertClose=function(){e.setState({alertBar:!1})},e.handleCloseDeniedPermissionAlert=function(){e.setState({openPermissionDeniedAlert:!1},(function(){return e.props.setLocationModal(!0)}))},e.state={openWelcomeAlert:!1,viewErrorModal:!1,openBackDrop:!1,snackBar:!1,alertBar:!1,snackBarMessage:"",openPermissionDeniedAlert:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("App mounted"),this.setState({openWelcomeAlert:!0},(function(){return e.prepareHospitalData()}))}},{key:"componentWillUnmount",value:function(){navigator.geolocation.clearWatch(this.geoLocationMove)}},{key:"componentDidUpdate",value:function(e){e.showLocation!==this.props.showLocation&&this.handleCloseWelcomeAlert(),this.loc_cordChangeFlag!==this.props.userCordChangeFlag&&(console.log("inside app update"),this.loc_cordChangeFlag=!this.props.userCordChangeFlag,this.getLocationWhenCordsChangedByUser(),this.props.setuserCordsFlag(this.loc_cordChangeFlag)),console.log("prevProps"+e),console.log("CurrentProps"+this.props),e.commuteFlag!==this.props.commuteFlag&&(++this.locChangeAlertCount,void 0===this.props.commuteFlag||this.props.commuteFlag||null===this.geoLocationMove||navigator.geolocation.clearWatch(this.geoLocationMove),this.getLocationTrack())}},{key:"arrangeHospitalKeyMap",value:function(e){for(var t=this,a=e,n={},o=function(e,o){n[t.hospitalList[e].district]?void 0===n[t.hospitalList[e].district].find((function(a){return a.name===t.hospitalList[e].name}))&&n[t.hospitalList[e].district].push({h_name:t.hospitalList[e].name,c_bed:t.hospitalList[e].vacant,h_zone:t.hospitalList[e].district,h_loc:a[t.hospitalList[e].name]&&a[t.hospitalList[e].name].geometry?a[t.hospitalList[e].name].geometry.location:"",h_dist:""}):n[t.hospitalList[e].district]=[{h_name:t.hospitalList[e].name,c_bed:t.hospitalList[e].vacant,h_zone:t.hospitalList[e].district,h_loc:a[t.hospitalList[e].name]&&a[t.hospitalList[e].name].geometry?a[t.hospitalList[e].name].geometry.location:"",h_dist:""}],n[t.hospitalList[o].district]?void 0===n[t.hospitalList[o].district].find((function(e){return e.name===t.hospitalList[o].name}))&&n[t.hospitalList[o].district].push({h_name:t.hospitalList[o].name,c_bed:t.hospitalList[o].vacant,h_zone:t.hospitalList[o].district,h_loc:a[t.hospitalList[o].name]&&a[t.hospitalList[o].name].geometry?a[t.hospitalList[o].name].geometry.location:"",h_dist:""}):n[t.hospitalList[o].district]=[{h_name:t.hospitalList[o].name,c_bed:t.hospitalList[o].vacant,h_zone:t.hospitalList[o].district,h_loc:a[t.hospitalList[o].name]&&a[t.hospitalList[o].name].geometry?a[t.hospitalList[o].name].geometry.location:"",h_dist:""}]},l=0,r=this.hospitalList.length-1;this.hospitalList.length,r>=this.hospitalList.length/2;l++,r--)o(l,r);n["North 24 Parganas"]=Object.assign([],n["N-24 Pgs"].concat(n["North 24 Pgs"])),delete n["N-24 Pgs"],delete n["North 24 Pgs"],n["North 24 Parganas"].forEach((function(e){return e.h_zone="North 24 Parganas"})),this.props.setTotalHospitalDetails(n),this.props.setRawHospitalData(e)}},{key:"render",value:function(){var e=this;return console.log("App Component rendered"),i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,null),i.a.createElement(O,null),i.a.createElement(d.a,{maxWidth:"md",className:"containerApp"},i.a.createElement(Oe,{accessPermission:this.loc_PermissionAccess}),i.a.createElement(Ca,null),i.a.createElement(y,{open:this.state.openBackDrop}),i.a.createElement(u.a,{open:this.state.snackBar,autoHideDuration:1e4,TransitionComponent:this.TransitionDown,message:this.state.snackBarMessage,action:i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return e.handleCloseSnackBar()}},i.a.createElement(g.a,{fontSize:"small"})))}),i.a.createElement(Da,{c_data:this.temp_alert_data,open:this.state.alertBar,handleAlertClose:function(){return e.handleAlertClose()}})),this.state.openBackDrop?null:i.a.createElement(w,null),i.a.createElement(Fa,{open:this.state.openPermissionDeniedAlert,onClose:function(t){return e.handleCloseDeniedPermissionAlert(t)}}),i.a.createElement(Ta,{open:this.props.locationModal,onClose:function(t){return e.handleCloseLocationOptionAlert(t)}}),i.a.createElement(fa,{open:this.state.viewErrorModal,onclose:function(){return e.handleErrorClose()},body:this.errorBodyMessage}))}}]),a}(i.a.Component);t.default=Object(b.b)((function(e){return{locationModal:e.locationModal.locationModalOpen,userCords:e.userCords.userCords,userCordChangeFlag:e.userCordChangeFlag.cordChangeFlag,commuteFlag:e.commmuteFlag.commuteFlag}}),(function(e){return{setTotalHospitalDetails:function(t){return e({type:"SET_TOTAL_HOSPITAL_DETAIL",payload:t})},setAddressComponents:function(t){return e(function(e){return{type:"SET_ADDRESS_COMPONENTS",payload:e}}(t))},setFormattedAddress:function(t){return e({type:"SET_FORMATTED_ADDRESS",payload:t})},setUserCords:function(t){return e(J(t))},setRawHospitalData:function(t){return e(va(t))},setLocationModal:function(t){return e(ae(t))},setuserCordsFlag:function(t){return e(q(t))}}}))(xa)}}]);
//# sourceMappingURL=4.3c0c413a.chunk.js.map